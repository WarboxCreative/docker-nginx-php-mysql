<?xml version="1.0"?>
<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
    <body>
        <!-- Overall -->
        <referenceContainer name="content">
            <container name="product.info.main.left" htmlTag="div" htmlClass="product-info-main__left" after="product.info.media">
                <container name="product.info.main.sidebar" htmlTag="div" htmlClass="product-info-main__right" after="product.info.main.left">
                    <container name="product.info.sidebar" htmlTag="div" htmlClass="product__sidebar position-static" after="product.info.main.left">
                        <container name="product.info.sidebar.inner" htmlTag="div" htmlClass="product__sidebar__inner" after="product.info.main.left">
                            <block class="Warbox\Category\Block\Product" name="prod-sidebar" template="Magento_Catalog::product/view/sidebar.phtml" before="-"/>
                        </container>

                        <block class="Magento\Catalog\Block\Product\View" name="prod-sidebar-badges" template="Magento_Catalog::product/view/sidebar-badges.phtml" after="-">
                            <block class="Warbox\Category\Block\Product" name="c-badges" template="Magento_Theme::html/blocks/c-badges.phtml"/>
                        </block>
                    </container>
                </container>
            </container>
            <block class="Magento\Catalog\Block\Product\View" name="product-video" template="Magento_Catalog::product/view/video.phtml" after="product.info.details"/>
        </referenceContainer>
        <referenceContainer name="product.info.main">
            <block class="Magento\Catalog\Block\Product\View" name="short-desc" template="Magento_Catalog::product/view/short_desc.phtml" after="-">
                <block class="Warbox\Category\Block\Product" name="c-badges-mobile" template="Magento_Theme::html/blocks/c-badges.phtml"/>
                <block class="Magento\Catalog\Pricing\Render" name="product.price.tier-mobile" after="-">
                    <arguments>
                        <argument name="price_render" xsi:type="string">product.price.render.default</argument>
                        <argument name="price_type_code" xsi:type="string">tier_price</argument>
                        <argument name="zone" xsi:type="string">item_view</argument>
                    </arguments>
                </block>
            </block>
            <block class="Warbox\Category\Block\Product" name="config-options" template="Magento_Catalog::product/view/configurable-options.phtml" after="-"/>
        </referenceContainer>

        <referenceBlock name="product.info.details">
            <referenceBlock name="product.info.description">
                <arguments>
                    <argument name="at_call" xsi:type="string">getDescription</argument>
                    <argument name="at_code" xsi:type="string">description</argument>
                    <argument name="css_class" xsi:type="string">description</argument>
                    <argument name="at_label" xsi:type="string">none</argument>
                    <argument name="title" translate="true" xsi:type="string">Description</argument>
                    <argument name="sort_order" xsi:type="string">10</argument>
                </arguments>
            </referenceBlock>
            <block class="Warbox\Product\Block\Catalog\Product\View\Attributes" name="product.attributes" as="additional" template="Magento_Catalog::product/view/attributes.phtml" group="detailed_info">
                <arguments>
                    <argument translate="true" name="title" xsi:type="string">Specification</argument>
                    <argument name="sort_order" xsi:type="string">20</argument>
                </arguments>
            </block>
            <block class="Magento\Catalog\Block\Product\View" name="delivery.tab" template="Magento_Catalog::product/view/delivery_tab.phtml" group="detailed_info" >
                <arguments>
                    <argument translate="true" name="title" xsi:type="string">Delivery</argument>
                    <argument name="sort_order" xsi:type="string">40</argument>
                </arguments>
            </block>
        </referenceBlock>

        <referenceContainer name="page.wrapper">
            <container name="product.content.after" htmlTag="div" htmlClass="container content-after-container" before="footer">
                <container name="product.content.after.row" htmlTag="div" htmlClass="row">
                    <container name="product.content.after.row.col" htmlTag="div" htmlClass="col-sm-12">
                        <referenceBlock name="catalog.product.related">
                            <block class="Warbox\Category\Block\Product" name="c-badges-related" template="Magento_Theme::html/blocks/c-badges.phtml"/>
                        </referenceBlock>
                    </container>
                </container>
            </container>
        </referenceContainer>

        <!-- Move -->
        <move element="product.info.main" destination="product.info.main.left" before="-"/>
        <move element="page.main.title" destination="product.info.main" before="-"/>
        <move element="product.info.review" destination="product.info.main" after="page.main.title"/>

        <move element="product.info.stock.sku" destination="product.info.form.content" after="-"/>
        <move element="product.info.sku" destination="product.info.form.content" after="-"/>

        <move element="product.info.price" destination="product.info.sidebar.inner" before="product.info"/>
        <move element="product.info" destination="product.info.sidebar.inner" after="-"/>
        <move element="product.price.tier" destination="product.info.sidebar.inner" before="product.info"/>

        <move element="catalog.product.related" destination="product.content.after.row.col" before="-"/>

        <!-- Remove -->
        <referenceBlock name="product.info.social" remove="true"/>
        <referenceBlock name="product.info.type" remove="true"/>
        <referenceBlock name="product.info.mailto" remove="true"/>
        <referenceBlock name="product.info.overview" remove="true"/>
    </body>
</page>
